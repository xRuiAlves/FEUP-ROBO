#!/usr/bin/env python
import rospy
from sensor_msgs.msg import LaserScan
from geometry_msgs.msg import Twist

print('################### test')

def callback(msg):
    # rospy.loginfo(rospy.get_caller_id() + "I heard %s", data.data)
    rospy.loginfo(len(msg.ranges))
    
def listener():

    # In ROS, nodes are uniquely named. If two nodes with the same
    # name are launched, the previous one is kicked off. The
    # anonymous=True flag means that rospy will choose a unique
    # name for our 'listener' node so that multiple listeners can
    # run simultaneously.
    rospy.init_node('listener', anonymous=True)

    sub = rospy.Subscriber('/scan', LaserScan, callback)
    pub = rospy.Publisher('/cmd_vel', Twist, queue_size=10)

    # spin() simply keeps python from exiting until this node is stopped
    rospy.spin()

if __name__ == '__main__':
    listener()

# header: 
#   seq: 18
#   stamp: 
#     secs: 1011
#     nsecs: 383000000
#   frame_id: "base_scan"
# angle_min: 0.0
# angle_max: 6.28318977355957
# angle_increment: 0.017501922324299812
# time_increment: 0.0
# scan_time: 0.0
# range_min: 0.11999999731779099
# range_max: 3.5
# ranges: [0.8128111958503723, 0.8037508130073547, 0.7858990430831909, 0.773019015789032, 0.752109944820404, 0.7529346346855164, 0.7453404664993286, 0.7309867143630981, 0.7346853017807007, 0.7293108105659485, 0.7180541753768921, 0.6955326795578003, 0.6875463724136353, 0.6796207427978516, 0.6772998571395874, 0.6591061353683472, 0.6401907801628113, 0.6456858515739441, 0.659092366695404, 0.6380348205566406, 0.6362895369529724, 0.6296728253364563, 0.6337932348251343, 0.6243961453437805, 0.626864492893219, 0.6195501089096069, 0.6054804921150208, 0.6057596206665039, 0.6070557832717896, 0.6082354784011841, 0.6026642918586731, 0.6031584143638611, 0.5878324508666992, 0.5848555564880371, 0.5942355990409851, 0.6075410842895508, 0.6101398468017578, 0.6113125681877136, 0.5652643442153931, 0.5881603360176086, 0.5982032418251038, 0.5747703313827515, 0.5882999897003174, 0.5919297933578491, 0.5812541842460632, 0.5734902024269104, 0.570919930934906, 0.5608020424842834, 0.5935565829277039, 0.5930927991867065, 0.5935465693473816, 0.5576733350753784, 0.5959343314170837, 0.5697672367095947, 0.5766979455947876, 0.5868448615074158, 0.5990147590637207, 0.5912365913391113, 0.5989874601364136, 0.6120272278785706, 0.5962578058242798, 0.5925459861755371, 0.618202805519104, 0.6235746741294861, 0.6114414930343628, 0.6134306192398071, 0.6296511888504028, 0.6349099278450012, 0.6366954445838928, 0.6293160319328308, 0.6623731851577759, 0.6338938474655151, 0.6610592603683472, 0.6709292531013489, 0.6749000549316406, 0.675764799118042, 0.6779462695121765, 0.6880781054496765, 0.7095817923545837, 0.7083132863044739, 0.7187068462371826, 0.7352453470230103, 0.7496219873428345, 0.750493049621582, 0.7453213334083557, 0.7669417262077332, 0.7910163998603821, 0.7917687892913818, 0.8149639368057251, 0.8302372694015503, 0.8449511528015137, 0.873193621635437, 0.8848916292190552, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, inf, 3.4825942516326904, 3.1519627571105957, 2.8797528743743896, 2.6592092514038086, 2.466019630432129, 2.3035805225372314, 2.1788580417633057, 2.032001495361328, 1.9209532737731934, 1.818132758140564, 1.7321727275848389, 1.6437162160873413, 1.5752187967300415, 1.5173345804214478, 1.4330415725708008, 1.3874131441116333, 1.3633404970169067, 1.2953296899795532, 1.2552207708358765, 1.2271358966827393, 1.1812224388122559, 1.147026777267456, 1.1000850200653076, 1.069722294807434, 1.03957998752594, 1.0301308631896973, 1.0133180618286133, 0.9809590578079224, 0.9635136723518372, 0.9329707622528076, 0.9128499031066895, 0.8923555612564087, 0.8683165907859802, 0.8636690378189087, 0.8421408534049988, 0.8251019716262817, 0.8105401396751404]
# intensities: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
